from flask import Flask, render_template, session, redirect, request, url_for, g
import constants
from database import CursorFromConnectionFromPool


# EB looks for an 'application' callable by default.
application = Flask(__name__)

@application.route('/')
def homepage():
    # data = [
    #             {'Date': '2009-03-31', 'High': 18.79, 'Low': 17.78, 'Close': 18.37},
    #             {'Date': '2009-03-30', 'High': 17.76, 'Low': 17.27, 'Close': 17.48},
    #             {'Date': '2009-03-27', 'High': 18.62, 'Low': 18.05, 'Close': 18.13}
    #         ]
    
    text = "this is some text"
    return render_template('home.html')

@application.route('/cv')
def cv():
    return render_template('cv.html')

@application.route('/cover_letter')
def cover_letter():
    return render_template('cover_letter.html')

@application.route('/apps')
def apps():
    return render_template('apps.html')

data = {'south': 292, 'korea': 825, 'says': 77, 'sanctions': 52, 'biting': 4, 'north': 711, 'agrees': 15, 'to': 393, 'send': 68, 'olympic': 63, 'delegation': 42, 'pyeongchang': 18, "'we": 1, 'understand': 1, "korea'": 2, '-': 127, 'us': 79, 'humiliates': 2, 'threatens': 2, '|': 8, '48cjpg': 1, 'what’s': 2, 'like': 2, 'the': 185, 'question': 1, '586jpg': 1, 'bitcoin’s': 1, 'connection': 1, 'next': 18, 'and': 91, 'resume': 7, 'talks': 147, 'e92png': 1, 're:': 3, 'ioc': 15, 'host': 1, 'on': 108, 'korean': 72, 'participation': 14, 'jan': 11, '20': 3, 'ioc:': 2, 'more': 14, 'initiatives': 1, 'coming': 1, 'promote': 1, 'unity': 11, 'abc': 4, 'news': 32, 'flu': 2, 'outbreak': 1, 'in': 120, 'kills': 1, '4': 1, 'affects': 1, '200000': 1, 'upicom': 2, 'how': 15, 'seizure': 5, 'of': 91, 'a': 79, 'spy': 6, 'ship': 5, 'by': 22, 'nearly': 4, 'sparked': 4, 'nuclear': 23, 'war': 25, 'cbs46': 1, 'atlanta': 1, 'fox': 5, 'carolina': 1, 'offers': 20, 'talk': 25, 'art': 25, "troupe's": 19, 'visit': 43, 'olympics': 192, 'demands': 2, 'apology': 2, 'for': 94, 'not': 17, 'using': 3, "country's": 1, 'official': 7, 'name': 2, 'house': 8, 'chairman:': 1, 'unification': 8, 'pact': 1, 'is': 40, 'just': 3, "'blackmail'": 1, 'shipped': 1, 'coal': 9, 'with': 127, 'help': 2, 'russian': 2, 'intelligence': 6, '[report]': 1, 'ca:': 1, 'metrolinx': 1, 'claims': 1, 'computers': 1, 'hit': 2, 'cyberattack': 1, 'letters:': 1, 'solution': 2, 'problem': 1, 'officials': 15, 'discuss': 23, 'plans': 4, 'cnn': 3, 'fox10': 1, 'athletes': 14, 'risk': 2, 'still': 3, 'high': 2, 'no': 9, 'one': 13, 'tell': 8, 'trump': 68, 'but': 11, 'are': 14, 'marching': 7, 'together': 14, 'at': 69, 'latest:': 62, 'skorea': 9, 'joint': 55, 'team': 28, "won't": 7, 'nix': 5, 'anyone': 4, 'chinese': 16, 'ships': 4, 'abetted': 1, 'n': 33, 'paralympics': 2, 'seoul:': 29, 'cancels': 34, 'pre-olympic': 26, 'cultural': 25, 'event': 30, 'imposes': 3, 'new': 16, 'aimed': 2, 'stopping': 1, "korea's": 31, 'nuclear-weapons': 1, 'development': 1, 'business': 3, 'insider': 2, 'two': 4, 'meanwhile': 1, 'europe': 1, 'australia': 1, 'america': 7, 'tillerson': 13, 'opens': 1, 'summit': 3, 'vow': 1, 'keep': 2, 'up': 13, 'pressure': 9, 'washington': 19, 'post': 16, 'about': 8, "here's": 4, 'horrific': 1, 'that': 1, 'would': 8, 'really': 2, 'be': 18, 'huffpost': 3, 'exclusive:': 2, 'despite': 3, 'exported': 3, 'japan': 9, 'via': 6, 'russia': 23, 'intel': 1, 'sources': 6, 'reuters': 21, 'koreas': 38, 'agree': 15, 'military': 32, 'defuse': 1, 'border': 13, 'tension': 2, 'bbc': 8, 'fast': 1, 'company': 2, 'bird': 1, 'outbreaks': 1, 'ahead': 6, 'voice': 1, 'increasing': 2, 'executions': 3, 'top': 4, 'political': 3, 'officers': 1, 'amid': 1, 'strain': 2, 'general': 4, 'photos': 2, 'historic': 3, 'past': 3, 'cheering': 12, 'squad': 11, '2018': 4, 'games': 20, '(shannon': 1, 'vavra/axios)': 1, 'hold': 35, 'as': 21, 'winter': 58, 'helps': 6, 'break': 2, 'ice': 5, '&': 7, 'world': 15, 'report': 13, 'state': 9, 'department': 2, 'tells': 3, 'visitors': 2, 'draft': 3, 'will': 40, 'before': 4, 'visiting': 2, 'aol': 2, 'calls': 17, 'peninsula': 3, '2': 20, 'northern': 9, 'troupe’s': 3, 'during': 11, 'could': 12, 'south-north': 1, 'undermine': 1, 'defector': 2, 'ji': 1, 'seong-ho': 1, 'holds': 1, 'crutches': 1, 'above': 1, 'his': 3, 'head': 5, "he's": 5, 'honoured': 1, 'union': 5, 'addresses': 1, 'threat': 5, 'japan:': 1, "'buying": 1, "time'": 1, 'defends': 1, 'rhetoric': 2, 'korea:': 23, 'opportunity': 5, 's': 19, 'welcomes': 18, 'megastar': 1, 'asia’s': 1, 'metropolises': 1, 'against': 13, 'navigating': 1, 'options': 1, 'hijacks': 1, 'an': 8, 'update': 2, 'nothing': 1, 'from': 28, 'inevitable': 2, 'lester': 10, 'holt': 10, 'praises': 6, 'cuts': 1, 'exercises': 5, 'agreed': 4, 'diplomatic': 3, 'first': 8, 'time': 11, 'over': 9, 'years': 13, 'wonders': 1, 'why': 5, 'york': 8, 'times': 8, 'working-level': 13, 'mattis:': 1, 'situation': 1, "'sobering'": 1, 'china’s': 3, 'unwelcome': 1, 'mirror': 1, 'trump’s': 8, 'sotu': 1, 'performance': 17, 'seoul': 16, 'a-10': 1, 'warthog': 1, 'ravage': 1, 'so': 1, 'does': 4, 'air': 1, 'force': 1, 'hate': 1, 'it': 18, 'hockey': 10, 'players': 2, 'come': 2, 'reunification': 4, 'scraps': 2, 'only': 3, 'road': 1, 'leads': 2, '—': 5, 'you': 1, 'can': 3, 'take': 3, 'trip': 1, 'down': 1, 'google': 1, 'maps': 1, 'huge': 2, 'deal': 5, 'consider': 8, 'temporary': 6, 'lifting': 6, 'facilitate': 6, 'six': 1, 'secretly': 2, 'aided': 1, 'evade': 1, 'un': 16, 'australian': 1, 'has': 12, 'cancelled': 1, 'breaking': 1, 'north-south': 9, 'negotiations': 1, 'start': 4, 'dmz;': 1, 'possible': 3, 'cooldown': 1, 'nkorea': 16, '15': 7, '50': 6, 'later': 6, 'uss': 11, 'pueblo': 10, 'pyongyang': 6, 'museum': 5, 'piece': 5, 'participate': 4, 'vancouver’s': 1, 'meeting:': 1, 'opaque': 1, 'agenda': 3, 'odd': 1, 'group': 3, 'participants': 1, 'refuses': 2, 'budge': 1, 'stance': 1, 'nikkei': 1, 'adopts': 1, 'posture': 1, 'impact': 1, 'rare': 14, 'between': 17, 'underway': 8, "russia's": 4, 'ambassador:': 3, 'oil': 10, 'deliveries': 3, 'should': 6, 'stop': 3, 'ria': 3, 'japan’s': 2, 'diaspora': 1, '22': 3, 'compete': 2, 'three': 1, 'sports': 6, 'credits': 3, 'firmness': 1, 'potential': 2, 'signals': 4, 'concession': 1, 'planning': 8, 'eve': 9, 'agree:': 1, 'neither': 1, 'wants': 7, 'defections': 1, "china's": 4, 'imports': 2, 'plummet': 2, 'december': 1, 'lowest': 2, 'four': 2, 'nbcnewscom': 1, 'open': 12, 'dept:': 1, 'prepare': 3, 'plan': 1, 'your': 1, 'funeral': 4, 'if': 2, "you're": 1, 'going': 2, 'townhall': 2, 'vancouver': 4, 'risks': 1, 'angering': 1, 'china': 22, 'while': 1, 'pressures': 1, 'trade': 21, 'critics': 2, 'warn': 1, 'globe': 2, 'mail': 1, 'detente': 3, 'rule': 1, 'out': 4, 'option': 3, 'seeks': 2, 'interdict': 1, 'shipping': 2, 'maritime': 1, 'executive': 1, 'white': 7, 'reduction': 2, 'arrested': 1, 'selling': 2, 'spirits': 1, 'drinks': 1, 'arrive': 1, 'practice': 1, 'wfsb': 1, 'five': 1, 'things': 3, 'watch': 2, 'today': 3, 'makes': 1, 'peace': 9, 'orchestra': 12, 'high-level': 4, 'tuesday': 4, 'deserves': 2, 'credit': 3, 'president': 16, 'moon': 12, "'north": 1, 'march': 9, 'under': 7, 'unified': 7, 'flag': 7, "olympics'": 1, 'accepts': 17, 'offer': 15, 'competing': 11, 'violinists': 2, 'squads:': 2, 'playbook': 1, 'may': 10, 'work': 1, 'brands': 2, 'protesters': 3, "'stinking": 2, "riff-raff'": 2, 'yahoo': 1, 'breakthrough': 2, '(choe': 1, 'sang-hun/new': 1, 'times)': 1, 'meeting': 15, 'stress': 1, 'importance': 1, 'sanctions:': 2, 'canada': 7, 'lessons': 1, "pueblo's": 1, '1968': 1, 'capture': 2, 'morning': 2, 'adds': 1, 'troops': 1, 'cameras': 1, 'radiation': 1, 'detectors': 1, 'globalnewsca': 1, 'asks': 6, 'explain': 6, 'canceled': 8, 'fax': 3, 'say': 4, 'chicago': 1, 'tribune': 1, 'ever': 2, 'extends': 4, 'korea’s': 6, 'deadline': 4, 'almost': 2, 'everyone': 1, 'follows': 5, 'majority': 1, 'affected': 1, 'xi': 8, 'wrap': 7, 'inspection': 7, 'donald': 6, 'trump:': 8, '\x91russia': 1, 'helping': 8, 'all': 8, 'korea\x92': 1, 'denies': 3, 'avoid': 1, 'reportedly': 3, 'day': 2, 'kick': 2, 'off': 8, 'sparks': 1, 'internet': 1, 'outrage': 1, 'coverage': 4, 'nbs': 1, 'spreading': 2, 'pro': 1, 'propaganda': 6, 'long': 2, 'complicated': 2, 'history': 3, 'reach': 1, 'termination': 2, "'likely": 2, "participate'": 2, 'games:': 2, 'hopes': 4, 'change': 6, 'accuse': 1, '2018:': 4, 'handling': 1, 'security': 3, 'challenges': 1, 'rift': 1, 'policy': 4, 'derail': 1, 'choice': 1, 'ambassador': 3, 'bobsled': 3, 'diplomacy:': 3, 'rival': 3, 'share': 3, 'sled': 3, 'media': 7, "skorea's": 1, 'backs': 2, 'nk': 5, 'responsible': 5, 'suffering': 6, 'form': 3, 'their': 2, 'preparing': 3, 'preventive': 1, 'what': 18, 'thinks': 1, 'want': 2, 'expert': 3, 'politics': 2, 'explains': 1, "nbc's": 2, 'anchor': 1, 'goes': 2, 'been': 3, "'treated": 1, "respect'": 1, '“is': 1, 'us”': 1, 'isolate': 2, 'vs': 1, 'divided': 1, 'begin': 2, 'long-anticipated': 1, '‘hijacked’': 1, 'crisis': 5, 'puts': 1, "'maximum": 1, "pressure'": 1, 'kim': 26, 'jong': 13, 'propose': 1, 'won’t': 2, 'nukes': 3, 'olympics:': 4, 'january': 14, '9': 9, 'sends': 6, 'pop': 3, 'singer': 2, '"currying': 1, 'favour': 1, 'discontent': 1, 'master"': 1, 'us:': 1, 'expect': 4, 'worried': 2, 'attack': 1, 'sporting': 1, 'bombs': 2, 'diplomacy': 8, 'cartoon': 1, 'threatening': 1, 'seek': 1, 'names': 1, 'delegates': 1, 'set': 3, 'date': 1, '': 1, 'hvpercom': 1, 'cheerleading': 2, 'charm': 2, 'offensive': 2, 'engagement': 3, 'strategy': 7, 'requires': 1, 'daunting': 1, "'likely'": 1, 'attend': 3, 'expresses': 1, "'openness": 1, 'holding': 2, "talks'": 1, 'travelling': 1, "don't": 2, 'forget': 1, 'make': 6, 'arrangements': 2, 'newsweek': 4, 'watch:': 2, 'star': 2, 'breaking:': 1, '"north': 1, 'announces': 2, 'call': 2, 'korea"': 1, 'prep': 2, "'not": 1, "permanent':": 1, 'ministry': 2, 'figure': 1, 'skaters': 2, 'taiwan': 1, 'prepares': 1, 'missile': 5, 'evacuation': 1, 'drills': 2, 'tokyo': 2, 'trumpets': 1, '"world-level"': 1, 'tourist': 1, 'project': 1, 'missed': 1, 'something': 2, 'administration': 3, 'slaps': 1, 'its': 2, 'now': 1, '“cooperation': 1, 'korea”': 1, 'become': 3, 'switzerland': 2, 'east': 1, 'yes': 3, 'drive': 2, 'wedge': 2, 'aei': 1, 'american': 2, 'enterprise': 2, 'institute:': 1, 'freedom': 1, 'he': 8, 'approached': 1, 'eyes': 1, 'undermines': 1, 'dialogue': 3, 'debating': 1, 'whether': 3, 'they': 1, 'bomb': 5, 'without': 1, 'striking': 2, 'back': 3, 'council’s': 1, 'brutal': 1, 'hands': 1, 'détente': 2, 'upends': 1, "'army": 2, "beauties'": 2, 'heading': 1, 'allies': 4, 'meet': 10, 'nuke': 4, 'miami': 1, 'herald': 2, 'commemorates': 1, '50th': 2, 'anniversary': 2, 'usni': 1, 'surprisingly': 1, 'successful': 1, 'significant': 2, 'digits': 1, 'thursday': 1, '18': 1, 'most': 3, 'likely': 5, 'violated': 1, 'transporting': 1, 'due': 2, 'planned': 1, 'inter-korean': 5, 'parade': 4, 'dozens': 1, 'long-range': 2, 'missiles': 1, '(cnn)': 1, 'do': 5, 'koreans': 5, 'reports': 7, 'inside': 5, 'taiwanese': 1, 'fishing': 1, 'found': 1, 'local': 1, 'prosecutors': 1, 'standoff': 1, 'ordinary': 1, 'disappear': 1, 'ups': 1, 'african': 1, 'nations': 2, 'cut': 1, 'ties': 9, 'warns': 5, "'charm": 1, "offensive'": 1, '123': 1, 'involved': 1, 'least': 1, '6': 1, 'different': 2, 'hacking': 1, 'campaigns': 1, '2017': 1, 'warning': 1, 'handful': 1, 'stealth': 1, 'bombers': 2, 'pacific': 1, 'turn': 1, 'assault': 1, 'into': 3, 'f-35': 1, 'armed': 1, 'aircraft': 1, 'carriers': 1, 'taking': 4, 'part': 6, 'after': 19, '230-member': 3, 'go': 3, 'hails': 5, 'cutting': 2, 'small': 4, 'uptick': 4, 'tense': 4, 'year': 7, 'said': 7, 'month': 5, 'programme': 1, 'who': 2, 'thank': 1, 'peaceful': 1, 'blackmail': 1, 'some': 2, 'trumpaccording': 1, '[interesting]': 1, 'worries': 5, 'first:': 1, 'proposes': 7, 'suggests': 1, 'surprise': 1, 'many': 1, 'intends': 1, "'strike": 1, 'exacerbate': 1, "proliferation'": 1, 'president’s': 1, 'tweets': 4, 'walking': 1, 'threats': 1, 'working': 5, 'ice;': 1, 'table': 1, 'till': 1, 'denuclearisation': 1, 'reducing': 5, 'tensions': 7, 'willing': 6, "north's": 5, 'organizer': 6, 'ap:': 6, "'more": 5, 'exciting': 6, "initiatives'": 5, 'promoting': 6, 'korea-south': 6, 'announced': 6, 'saturday': 6, '‘more': 1, 'initiatives’': 1, 'experts': 1, 'think': 1, 'inter-korea': 2, 'minister': 2, '‘unacceptable’': 2, 'he’s': 2, '‘bloody': 1, 'nose’': 1, 'strike': 3, '‘completely': 1, 'wrong’': 1, 'restores': 4, 'hotline': 4, 'slams': 2, "trump's": 12, 'claim': 3, 'success': 1, "month's": 1, 'sees': 3, 'good': 4, 'buttons': 1, 'few': 1, 'days': 1, 'foolproof': 1, 'exchanges': 3, 'other': 2, 'advance': 5, 'teams': 2, 'lighting': 1, 'fuse': 1, 'pondering': 2, 'provide': 2, 'preparation': 1, 'dept': 1, 'russia:': 3, "'no": 1, "excuses'": 1, 'former': 2, 'pick': 1, 'blasts': 1, 'administration’s': 1, 'policies': 1, 'omnivore:': 3, 'us-north': 3, 'vows': 1, 'ease': 2, 'showed': 2, '"cold': 1, 'war"': 1, 'mentality': 2, "'cold": 1, "war'": 1, 'partners': 2, 'urge': 2, 'give': 2, 'weapons': 3, 'cruz:': 3, "'it’s": 1, 'fear': 1, "next'": 1, 'step': 2, 'safe': 1, 'wonderful': 1, 'press': 1, 'join': 3, "'absolutely'": 5, 'phone': 5, "he'd": 3, 'talking': 4, 'leader': 7, 'govt': 1, 'americans': 2, 'traveling': 1, 'broadcaster': 1, 'issues': 4, 'false': 1, 'alert': 2, 'regular': 1, 'thing': 1, '--': 3, 'push': 1, 'captured': 4, 'displayed': 3, 'prize': 3, 'activists': 5, 'rip': 5, "un's": 5, 'photo': 6, 'protest': 5, 'blames': 7, 'media:': 4, 'export': 3, 'western': 1, 'try': 2, 'ski': 3, 'resort': 4, 'ready': 3, '15:': 2, 'yonhap': 5, 'modern': 1, 'ted': 2, 'it’s': 5, 'fears': 2, 'speak': 1, 'jong-un': 2, 'speaking': 1, '#39;absolutely#39;': 1, 'korea#39;s': 1, 'chang:': 1, 'prompting': 1, 'refugee': 1, 'raising': 1, 'her': 1, 'kids': 1, 'uk': 1, 'never': 1, 'far': 1, 'home': 2, 'migrant': 2, 'workers': 2, '2019': 2, 'ifax': 2, 'see': 1, 'blanket': 1, 'ban': 1, 'supplies': 2, 'declaration': 1, '–': 3, 'envoy': 3, 'plunges': 1, 'tighten': 1, 'jersey': 1, 'schedule': 1, 'week': 5, 'postpone': 1, 'chief': 2, 'progress': 2, 'ex-north': 1, 'spy:': 1, 'weapon': 2, 'suddenly': 1, 'guy': 1, 'leftists': 1, 'was': 3, 'get': 1, 'nuked': 1, '‘big’': 1, 'most-influential': 1, 'women': 1, 'attracting': 1, 'lot': 1, 'attention': 1, 'which': 1, 'exactly': 1, 'mattis': 2, 'thanks': 1, 'vietnamese': 1, 'supporting': 1, 'genocide': 1, 'conspiracy': 1, 'letter': 1, 'international': 1, 'criminal': 1, 'court': 1, 'ending': 1, 'seen': 2, 'act': 1, 'took': 1, 'towards': 1, 'onpolitics': 1, 'today:': 1, 'daca': 1, 'paris': 1, 'maybe': 1, 'atlantic': 2, 'daily:': 1, 'read': 2, 'address': 3, 'further': 2, "'has": 1, 'very': 1, 'strong': 1, "concerns'": 1, 'might': 2, 'ex-cia': 1, 'bought': 1, 'watched': 1, 'above:': 1, 'nbc': 1, 'rattle': 1, 'aides': 1, 'carefully': 1, 'calibrated': 1, 'caused': 1, 'there': 1, 'absence': 2, 'looms': 2, '10000': 1, 'couples': 1, 'promises': 1, "'deal": 1, "seriously'": 1, 'violators': 1, '1-china': 1, 'limit': 1, 'refined': 1, 'product': 1, 'exports': 2, 'delaying': 1, 'us-korea': 1, "'good": 1, "message'": 1, 'examiner': 3, 'shifts': 1, 'tone': 1, "'little": 1, 'rocket': 1, "man'": 1, 'possibility': 1, 'says:': 1, "'who": 1, 'knows': 1, 'where': 3, "leads'": 1, 'already': 2, 'peaked': 1, 'skirt': 2, 'sanctions;': 2, 'getting': 2, 'close': 1, 'withdrawal': 1, 'candidate': 1, 'tough': 1, 'giving': 1, 'resolve': 5, 'issue': 2, 'burn': 1, "kim's": 1, 'band': 4, 'passes': 1, 'crew': 1, 'feels': 1, 'scars': 1, 'cargo': 1, 'assisted': 1, 'violation': 1, 'boosts': 2, 'straits': 1, 'warrants': 1, 'removal': 1, 'office': 1, 'cia:': 1, 'moving': 1, "'ever": 1, "closer'": 1, 'putting': 1, 'cooperation;': 1, 'considers': 1, '“limited': 1, 'strike”': 1, "'promote": 1, "cooperation'": 1, 'our': 1, 'target': 2, 'keeps': 4, "'door": 3, "open'": 3, 'agreements': 1, 'reached': 1, 'arms': 2, 'kremlin': 2, 'direct': 2, 'contact': 1, 'performers': 1, 'proposal': 3, 'blaming': 1, 'skorean': 1, 'skiers': 1, 'chartered': 1, 'flight': 1, 'look': 4, 'ap': 2, 'explains:': 2, 'skirted': 2, 'us-led': 1, 'urges': 3, 'lineup': 1, 'have': 1, 'girl': 3, 'heads': 1, 'south’s': 1, 'troupe': 3, 'reuters:': 1, 'through': 4, 'frosty': 1, 'reception': 1, 'sunday:': 1, 'cultural-exchange': 1, 'concert': 1, 'blamed': 1, "'insulting'": 1, 'suggested': 1, 'approach': 3, 'requests': 2, '17': 2, 'beefs': 1, '(bbc)': 1, 'trafficking': 1, 'sex': 1, 'slaves': 1, 'ii': 1, 'unites': 1, 'cooperation': 1, 'mount': 1, 'fooled': 1, '"charm': 1, 'offensive":': 1, '12': 1, 'wave': 1, 'ceremony': 6, 'display': 1, 'strength': 1, "it's": 3, '(edward': 1, 'luttwak/foreign': 1, 'policy)': 1, 'crisis:': 1, 'continue': 2, "'clear": 1, "eyes'": 1, 'object': 1, '‘insulting’': 1, 'prompts': 1, 'cancel': 1, 'aide:': 1, 'pence': 3, 'hesitate': 1, 'criticize': 1, 'pushes': 2, 'denuclearization': 2, 'drop': 4, 'level': 1, "jong-un's": 1, 'puppet': 1, 'master': 1, 'revealed:': 1, "'holds": 1, 'real': 2, 'power': 1, 'daily': 1, 'vice': 2, 'prevent': 1, 'overtures': 1, 'committee': 1, 'welcomed': 1, 'skepticism': 1, '‘biased': 1, 'media’': 1, 'scales': 1, 'exercises:': 1, 'happen': 1, 'launched': 1, 'finally': 2, 'forces': 1, 'rink': 1, 'reduce': 1, 'brink': 1, 'perform': 2, 'philippines’': 1, 'happens': 2, 'destroys': 2, 'engage': 1, 'case': 1, 'linked': 1, 'cryptocurrency': 2, 'attacks': 1, 'unlikely': 1, 'rejects': 1, 'humanitarian': 1, 'groups': 1, 'begins': 2, 'tillerson:': 2, 'growing': 2, 'bluffing': 1, 'agencies': 5, 'underestimated': 5, 'spotlight': 1, '‘fire': 1, 'fury’': 1, 'book': 5, 'focus': 3, 'pressuring': 2, 'crypto': 3, 'insider:': 3, 'accused': 3, 'hacks': 3, 'propping': 1, 'remains': 2, 'unpredictable': 1, 'mocks': 3, 'release': 2, 'public': 1, 'navy': 2, 'destroy': 3, 'refutes': 1, 'hijacked': 1, 'latest': 8, 'targeting': 1, 'highlight': 5, 'opening': 6, 'lavrov': 1, 'syria': 1, 'clash': 2, 'disarmament': 2, 'forum': 2, 'secretive': 2, 'problematic': 3, 'wannacry': 3, 'attribution': 3, 'condemns': 7, 'strangling': 2, 'city': 2, 'russia’s': 1, 'relationship': 1, 'highlights': 1, 'injustices': 1, 'intensifies': 1, 'efforts': 1, 'sharing': 1, 'weighs': 1, 'limited': 1, 'olympics-ioc': 1, 'countries': 4, 'agent': 1, '(2015)': 1, 'reunite': 1, 'pakistan': 1, 'tops': 1, 'foreign': 2, 'playing': 1, 'dangerous': 1, 'game': 1, 'moves': 1, 'toward': 1, 'book’s': 1, 'popularity': 1, 'predicts': 1, 'end': 1, 'restrictions': 1, 'rabobank': 1, 'don’t': 1, 'trust': 1, 'duck': 1, 'slammed': 1, "vietnam's": 1, '"leadership"': 1, 'message': 1, "'all": 3, "koreans'": 3, 'soldier': 1, 'committed': 1, 'murder': 1, 'exclusive-despite': 1, 'increases': 1, 'trouble': 1, 'kissinger’s': 1, 'advice': 1, 'affecting': 1, 'worse': 1, 'recognizes': 2, 'victims': 2, 'cruelty': 2, 'replaying': 1, 'iraq': 1, 'warmongering': 1, 'lead': 1, '(andrew': 1, 'jeong/wall': 1, 'street': 1, 'journal)': 1, 'combined': 1, 'women’s': 1, 'represent': 1, 'aligning': 1, 'causing': 1, 'controversy': 1, 'popular': 2, 'returns': 1, 'this': 3, 'higher': 1, 'stakes': 1, 'decrease': 1, 'china-north': 1, 'financial': 1, 'express': 1, '‘complex’': 1, 'reasons': 1, 'special': 1, '-intelligence': 1, 'record': 1, 'hackers': 1, 'mine': 1, 'abroad': 1, "can't": 1, 'artillery': 1, 'fuel': 1, "'preppers'": 1, 'businesses': 1, 'fresh': 1, 'decided': 1, 'play': 2, 'nice': 1, 'opinion:': 1, 'stand': 1, 'another': 2, 'smart': 1, 'bring': 1, 'justice': 1, 'rights': 1, 'crimes': 1, 'preps': 1, 'modest': 1, 'winston': 1, 'peters': 1, 'wsj': 1, '‘falsely’': 1, 'quoted': 1, 'comments': 2, 'double-edged': 1, 'sword': 1, '‘helping’': 1, 'olympics-north': 1, 'belittles': 1, '‘nuclear': 1, 'button’': 1, "'nuclear": 1, "button'": 1, 'boast': 3, 'graham': 1, 'family': 2, 'legacy': 1, 'openness': 2, 'science': 1, 'concessions': 1, 'korea´s': 1, 'threat:': 1, 'forced': 1, 'leading': 1, 'supplier': 1, 'crystal': 1, 'meth': 1, 'fake': 1, 'bitcoin': 1, 'following': 1, 'ministers': 1, 'convene': 1, 'according': 2, 'hr': 2, 'mcmaster': 2, 'b-52': 1, 'b-1': 1, 'b-2': 1, 'soon': 1, 'able': 1, 'even': 1, 'these': 3, '10': 2, 'worst': 2, 'christian': 2, 'button': 2, "'spasm": 2, "lunatic'": 2, 'arrives': 1, 'stage': 1, 'bc-us--tv-holt-north': 2, 'korea3rd': 1, 'ld-writethru': 2, 'training': 1, 'seven': 1, 'abortion': 1, 'demand': 1, 'weeks': 1, 'nixes': 1, 'charged': 1, 'dui': 1, '[sad]': 1, 'briefing:': 1, 'rate': 1, 'hike': 1, 'expected': 1, 'definitely': 1, 'changes': 1, 'last': 2, 'photographer': 1, 'got': 1, 'banned': 1, 'life': 1, 'because': 1, 'shared': 1, 'illegal': 1, 'korea2nd': 1, 'full': 1, 'claim:': 1, 'gold': 1, 'price': 1, 'smash': 1, '$10000': 1, 'crashing': 1, 'dollar': 1, 'tightens': 1, 'limits': 2, 'united': 2, 'places': 1, 'tougher': 1, 'childhood': 1, '(20': 1, 'pics)': 1, 'test': 1, 'satellite': 1, 'images': 1, 'suggest': 1, 'mull': 1, 'use': 1, "'closer": 1, 'every': 1, "day'": 1, 'hawaii': 1, 'officials:': 1, 'inbound': 1, 'ballistic': 1, '‘false': 1, 'alarm’': 1, "'fire": 2, "fury'": 2, 'foretelling': 1, "'trump’s": 1, "demise'": 1, 'around': 1, 'statement': 2, 'crows': 1, 'last-minute': 2, 'planners': 2, 'scrambling': 2, '1': 1, "'eye-opening'": 1, 'remarks': 1, 'gaps': 1, 'remain': 1, "cia's": 1, 'understanding': 1, 'expulsions': 1, 'demonstrated': 1, 'components': 1, 'icbm': 1, 'analysts': 1, 'bad': 1, "'stressed'": 1, "'angry'": 1, 'child': 1, 'bodyguard': 1, 'violates': 1, 'declares': 1, '‘weapons': 1, 'states’': 1, '(and': 1, 'poll)': 1, 'flurry': 1, 'protests:': 1, 'nbc’s': 1, 'holt:': 1, 'i’ve': 1, '‘treated': 1, 'respect’': 1, 'industry': 1, 'cnnmoney': 1, 'signs': 1, 'campaign': 1, '(ryan': 1, 'hass/axios)': 1, 'closed': 1, 'door': 1, 'leaves': 1, 'hill': 1, 'sfgate': 1, 'big': 1, 'night': 1, 'speech': 1, 'society': 1, 'sign': 1, '9:': 1, 'conscientious': 1, 'role': 1, 'gordon': 1, '09': 1, 'coordinate': 1, '‘prenegotiation': 1, 'bargaining’': 1, 'ex-japan': 1, 'defense': 1, 'win': 2, 'view': 2, 'single': 1, 'massive': 1, 'show': 1, 'or': 1, 'gambit': 1, 'analysis:': 1, 'again': 1, 'oddly': 1, 'beautiful': 1, 'today’s': 1, 'bid': 1, 'enter': 1}

@application.route('/scratch')
def scratch():
    counts = []
    for item in data:
        counts.append(data[item])
    mean = sum(counts) / len(counts)
    
    # get top decile only
    counts.sort()
    hurdle = counts[-15]

    top = {}
    for item in data:
        if data[item] >= hurdle:
            top[item] = data[item]
    
    top_list = []
    for item in top:
        trace = {
                'x': [1], 'y': [top[item]], 
                'mode': 'scatter',
                'name': "'" + item + "'"     
        }
        top_list.append(trace)


    return render_template("scratch.html", data=top_list, mean=mean)



# run the app.
if __name__ == "__main__":
    # Setting debug to True enables debug output. This line should be
    # removed before deploying a production app.

    application.debug = True
    application.run()


